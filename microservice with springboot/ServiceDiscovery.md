## Service Discovery란
어떠한 서버(서비스)가 어디 위치에 있는지, 등록과 검색을 지원해준다.
여기서는 유레카 서버를 사용한다.

먼저 서비스들을 등록하고 클라이언트가 필요한 서비스를 API 게이트웨이에 요청 정보를 전달하면 서비스 디스커버리가 필요한 서비스의 위치를 반환하여 API 게이트웨이가 연결해준다

## 서비스 여러 개 실행하는 법
실행 config에서 같은 app을 복사하여 생성해 여러 개를 실행할 수 있다.\
하지만 포트 번호가 겹쳐 실행할 수 없다. 매번 하드코딩으로 설정을 변경할 수 없다.\
config에서 environment의 Vm option에서 -Dserver.port=${다른 포트}로 변경한다.

## 랜덤 포트
동일한 서비스 여러 개 실행할 때 직접 포트를 정하기는 어렵다.
그래서 server의 포트를 0으로 springboot가 알아서 포트를 정하도록 한다.

### 하지만 이럴 경우 포트의 번호를 어떻게 알려줄까?
0번으로 여러 개 등록하면 리스트에는 0번에 겹쳐서 하나로 보인다.
instance-id를 추가한다.